{% comment %}
  JetCredit Product Widget (Theme App Extension block)
  Renders button + modal and loads assets.
{% endcomment %}

<div
  class="jetcredit-widget"
  data-jetcredit
  data-shop-domain="{{ shop.permanent_domain }}"
>
  <div class="jetcredit-inline" hidden>
    <button type="button" class="jetcredit-logoBtn" aria-label="JetCredit">
      <img
        class="jetcredit-logo"
        src="{{ 'jet.png' | asset_url }}"
        alt="JetCredit"
        loading="lazy"
        width="24"
        height="24"
      >
    </button>

    <div class="jetcredit-miniText">
      <span class="jetcredit-miniMonths">–</span> x
      <span class="jetcredit-miniMonthly">–</span>
      <span class="jetcredit-miniCurrency"></span>
    </div>
  </div>

  <div class="jetcredit-error" hidden></div>

  <script type="application/json" class="jetcredit-product-json">
    {{ product | json }}
  </script>
</div>

{{ 'jetcredit_product.css' | asset_url | stylesheet_tag }}

<script src="{{ 'jetcredit_product.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "JetCredit widget",
  "target": "section",
  "settings": []
}
{% endschema %}
